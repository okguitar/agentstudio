# AgentStudio 用户手册

> AgentStudio - 智能体工作平台 | 基于 Claude Code SDK 构建的现代化个人智能体工作平台

## 目录

1. [简介](#简介)
2. [快速开始](#快速开始)
3. [首页概览](#首页概览)
4. [仪表板](#仪表板)
5. [项目管理](#项目管理)
   - [创建项目](#创建项目)
   - [导入项目](#导入项目)
   - [项目记忆管理](#项目记忆管理)
   - [项目命令管理](#项目命令管理)
   - [项目子Agent管理](#项目子agent管理)
   - [A2A协议管理](#a2a协议管理)
6. [Agent管理](#agent管理)
   - [创建助手](#创建助手)
   - [系统提示词配置](#系统提示词配置)
   - [工具选择](#工具选择)
   - [编辑助手](#编辑助手)
7. [MCP服务](#mcp服务)
   - [添加MCP服务](#添加mcp服务)
   - [从Claude Code导入](#从claude-code导入)
8. [技能管理](#技能管理)
   - [创建技能](#创建技能)
   - [查看技能详情](#查看技能详情)
   - [浏览技能文件](#浏览技能文件)
9. [插件管理](#插件管理)
   - [添加市场](#添加市场)
   - [浏览和安装插件](#浏览和安装插件)
10. [自定义命令](#自定义命令)
    - [新建命令](#新建命令)
11. [聊天界面](#聊天界面)
    - [消息发送](#消息发送)
    - [工具选择](#工具选择-1)
    - [会话历史](#会话历史)
    - [聊天设置](#聊天设置)
12. [系统设置](#系统设置)
    - [外观设置](#外观设置)
    - [供应商管理](#供应商管理)
    - [全局记忆](#全局记忆)

---

## 简介

AgentStudio 是一个基于 Claude Code SDK 构建的现代化个人智能体工作平台。通过直观的 Web 界面，您可以轻松访问强大的 AI 能力，提升工作效率。

### 核心特性

- **现代化Web界面**：专业直观的 Web UI，实时流式响应，分屏布局设计
- **多模型支持**：支持 Claude、GLM、DeepSeek、Kimi K2、MiniMax 等多种大语言模型
- **智能体系统**：内置多种专业智能体，支持自定义智能体创建
- **文件管理**：内置文件浏览器，项目感知操作，支持图片上传和内容预览
- **专业工具**：幻灯片智能体、代码探索器、文档大纲等专业工具
- **安全可靠**：环境变量保护API密钥，沙盒文件系统访问

---

## 快速开始

### 方式一：一键安装（推荐）

```bash
curl -fsSL https://raw.githubusercontent.com/okguitar/agentstudio/main/scripts/remote-install.sh | bash
```

### 方式二：源码部署

```bash
git clone https://github.com/okguitar/agentstudio.git
cd agentstudio
pnpm install && pnpm run dev
```

安装完成后，在浏览器中访问 `http://localhost:3000` 即可开始使用。

---

## 首页概览

首页是 AgentStudio 的门户页面，展示了产品的核心价值和快速入口。

![首页](../.playwright-mcp/01-homepage.png)

### 页面元素

1. **顶部导航栏**
   - AgentStudio 品牌标识
   - "进入工作台" 按钮：快速进入主工作区

2. **主标语区域**
   - "智能体工作平台，让AI成为你的得力助手"
   - 产品简介描述

3. **核心特性展示**
   - 现代化Web界面
   - 多模型支持
   - 智能体系统
   - 文件管理
   - 专业工具
   - 安全可靠

4. **快速开始指南**
   - 普通用户一键安装命令
   - 开发者源码部署命令

5. **行动号召**
   - "开始使用" 按钮
   - GitHub 源码链接

### 操作指南

1. 点击右上角 **"进入工作台"** 按钮进入主工作区
2. 或点击 **"立即开始"** 按钮开始使用
3. 点击 **"查看源码"** 可访问 GitHub 仓库

---

## 仪表板

仪表板是您登录后看到的第一个页面，提供了工作状态的全局视图。

![仪表板](../.playwright-mcp/02-dashboard.png)

### 页面布局

1. **左侧导航栏**
   - 仪表板
   - 项目管理
   - MCP服务
   - 技能管理
   - 插件管理
   - Agent管理
   - 自定义命令
   - Subagent管理
   - 系统管理

2. **统计卡片区**
   - **Agent管理**：显示已启用/总数的Agent数量
   - **工作项目**：显示工作项目总数
   - **Slash命令**：显示自定义命令数量
   - **活跃会话**：显示当前活跃的对话会话

3. **活跃会话面板**
   - 显示当前正在进行的对话
   - 刷新按钮更新会话状态

4. **最近活动**
   - 显示最近访问的项目
   - 显示最近使用的命令
   - 点击可快速跳转

5. **常用助手**
   - Basic Agent：无 Claude Code 提示词的简单 Agent
   - Claude Code：系统默认助手
   - PPT编辑助手：专门用于创建和编辑HTML演示文稿

6. **快速操作**
   - 创建新项目
   - 创建新助手
   - 添加MCP服务

### 操作指南

1. 点击统计卡片可快速跳转到对应的管理页面
2. 在"常用助手"区域点击闪电图标可直接进入对话
3. 在"最近活动"区域点击项目可快速切换
4. 使用"快速操作"卡片可快速创建新内容

---

## 项目管理

项目管理页面用于管理所有工作项目，每个项目对应一个工作目录。

![项目管理概览](../.playwright-mcp/project-list-overview.png)

### 页面功能

1. **搜索框**：快速搜索项目名称

2. **导入项目**：导入已存在的项目目录

3. **创建新项目**：创建新的工作项目

4. **项目列表表格**
   - **项目名称**：点击可展开项目详情，旁边有"打开"按钮
   - **助手**：为项目指定的默认助手，可通过下拉菜单切换
   - **路径**：项目的文件系统路径
   - **创建时间**：项目创建日期
   - **最后活跃**：上次访问时间

5. **项目操作按钮**
   - 📋 **记忆管理**：管理项目级别的记忆
   - ⌘ **命令管理**：管理项目专属的自定义命令
   - 🤖 **子Agent管理**：管理项目的子Agent
   - 🔗 **A2A Protocol管理**：配置Agent到Agent协议
   - 🗑️ **删除**：删除项目（请谨慎操作）

---

### 创建项目

点击右上角的 **"创建新项目"** 按钮，打开创建项目对话框：

![创建项目对话框](../.playwright-mcp/create-project-dialog.png)

#### 操作步骤

1. **填写项目名称**
   - 在"项目名称"输入框中输入项目的显示名称
   - 名称应简洁明了，便于识别

2. **选择项目路径**
   - 点击"浏览目录"按钮打开文件选择器
   - 选择项目所在的目录路径
   - 或直接在输入框中输入完整路径

3. **选择默认助手**
   - 从下拉菜单中选择该项目默认使用的AI助手
   - 可选项包括：Claude Code、Basic Agent、PPT编辑助手等

4. **点击"创建"按钮**
   - 确认信息无误后点击创建
   - 项目将立即出现在项目列表中

#### 注意事项

- 项目路径必须是有效的文件系统目录
- 同一路径只能创建一个项目
- 创建后可以随时修改默认助手

---

### 导入项目

对于已经存在的项目目录，可以通过导入功能快速添加：

![导入项目对话框](../.playwright-mcp/import-project-dialog.png)

#### 操作步骤

1. **点击"导入项目"按钮**
   - 位于页面右上角，搜索框旁边

2. **浏览选择项目目录**
   - 在弹出的对话框中点击"浏览目录"
   - 选择要导入的项目文件夹
   - 或直接输入完整路径

3. **确认导入**
   - 系统会自动识别项目信息
   - 点击"导入"按钮完成操作

4. **选择默认助手（可选）**
   - 导入后可在项目列表中为其指定默认助手

---

### 项目记忆管理

每个项目可以有独立的记忆设置，帮助AI助手更好地理解项目上下文：

![项目记忆管理](../.playwright-mcp/project-memory-dialog.png)

#### 功能说明

- **记忆内容来源**：读取项目目录下的 `CLAUDE.md` 文件
- **自动加载**：每次对话时自动为AI加载项目记忆
- **编辑功能**：可直接在界面中编辑记忆内容
- **刷新功能**：重新从文件加载最新内容

#### 操作步骤

1. **打开记忆管理**
   - 在项目列表中点击项目行的 📋（记忆）图标

2. **查看当前记忆**
   - 对话框将显示当前项目的记忆内容
   - 内容以 Markdown 格式呈现

3. **编辑记忆**
   - 点击"编辑"按钮进入编辑模式
   - 修改内容后保存

4. **刷新内容**
   - 点击"刷新"按钮重新加载文件

#### 建议内容

- 项目简介和目标
- 技术栈说明
- 编码规范和偏好
- 常用命令和脚本
- 项目结构说明

---

### 项目命令管理

为项目配置专属的自定义命令：

![项目命令管理](../.playwright-mcp/project-commands-dialog.png)

#### 功能说明

- **项目专属命令**：只在该项目中可用的 Slash 命令
- **命令列表**：显示所有已配置的命令
- **创建新命令**：添加新的项目命令
- **编辑/删除**：管理现有命令

#### 操作步骤

1. **打开命令管理**
   - 在项目列表中点击项目行的 ⌘（命令）图标

2. **查看命令列表**
   - 对话框显示该项目的所有自定义命令
   - 每个命令显示名称和描述

3. **创建新命令**
   - 点击"新建命令"按钮
   - 填写命令名称（以 / 开头）
   - 编写命令提示词
   - 选择可用工具
   - 保存命令

4. **编辑/删除命令**
   - 点击命令行的编辑图标修改
   - 点击删除图标移除命令

---

### 项目子Agent管理

管理项目中可用的子Agent配置：

![项目子Agent管理](../.playwright-mcp/project-subagent-dialog.png)

#### 功能说明

- **子Agent列表**：显示项目可用的子Agent
- **配置同步**：与系统 Subagent 管理同步
- **启用/禁用**：控制子Agent在项目中的可用性

#### 操作步骤

1. **打开子Agent管理**
   - 在项目列表中点击项目行的 🤖（子Agent）图标

2. **查看子Agent列表**
   - 对话框显示所有可用的子Agent
   - 每个子Agent显示名称、类型和状态

3. **启用子Agent**
   - 勾选需要在项目中使用的子Agent
   - 点击保存应用更改

4. **添加新子Agent**
   - 点击"添加子Agent"按钮
   - 配置子Agent名称和类型
   - 设置子Agent参数

---

### A2A协议管理

A2A（Agent-to-Agent）协议管理用于配置Agent之间的通信和协作：

![A2A协议概览](../.playwright-mcp/project-a2a-overview.png)

#### 功能概述

A2A协议允许不同的Agent之间进行互操作，支持：
- 发布项目的Agent服务供外部调用
- 配置API密钥进行身份验证
- 管理外部Agent连接
- 监控Agent任务执行状态

#### 概览标签页

概览页面显示项目的A2A服务基本信息：
- **服务名称**：当前项目的服务标识
- **服务描述**：服务的功能说明
- **端点URL**：服务的访问地址
- **状态指示**：服务是否正在运行

#### API密钥管理

![A2A API密钥](../.playwright-mcp/project-a2a-apikeys.png)

API密钥标签页用于管理服务的身份验证：

1. **创建API密钥**
   - 点击"创建密钥"按钮
   - 设置密钥名称和有效期
   - 保存生成的密钥（仅显示一次）

2. **管理密钥**
   - 查看已创建的密钥列表
   - 禁用或删除不再使用的密钥

3. **安全建议**
   - 定期轮换API密钥
   - 为不同的客户端使用不同的密钥

#### 外部Agent管理

![A2A外部Agent](../.playwright-mcp/project-a2a-external-agents.png)

外部Agent标签页用于配置连接到外部Agent服务：

1. **添加外部Agent**
   - 点击"添加外部Agent"按钮
   - 填写Agent的端点URL
   - 配置认证信息（API密钥）

2. **测试连接**
   - 验证外部Agent的可达性
   - 获取外部Agent的能力描述

3. **使用外部Agent**
   - 在对话中通过工具调用外部Agent
   - 支持跨项目的Agent协作

#### 任务监控

![A2A任务](../.playwright-mcp/project-a2a-tasks.png)

任务标签页用于监控A2A协议的任务执行：

1. **任务列表**
   - 显示所有通过A2A调用的任务
   - 包含任务ID、来源、状态和时间

2. **任务状态**
   - pending：等待执行
   - running：正在执行
   - completed：执行完成
   - failed：执行失败

3. **任务详情**
   - 点击任务查看详细信息
   - 查看输入参数和执行结果

---

## Agent管理

Agent管理页面用于管理和配置 AI 助手。

![Agent管理概览](../.playwright-mcp/agent-list-overview.png)

### 页面功能

1. **搜索框**：搜索助手名称

2. **创建助手**：创建新的自定义助手

3. **助手列表**
   - **智能助手**：助手名称、图标和描述
   - **配置**：最大轮次、权限设置
   - **工具**：助手可使用的工具数量和列表
   - **操作**：使用、禁用、编辑、删除

### 系统默认助手

系统内置了一个默认助手 **Claude Code**，是系统推荐的主要工作助手：

| 助手名称 | 描述 | 特点 |
|---------|------|------|
| 🔧 Claude Code | 系统默认助手，功能全面 | 17个工具，不限制轮次 |

您可以根据需要创建自己的自定义助手，满足不同的工作场景需求。

---

### 创建助手

点击 **"创建助手"** 按钮打开创建对话框：

![创建助手对话框](../.playwright-mcp/agent-create-dialog.png)

#### 对话框字段说明

1. **助手名称**（必填）
   - 为助手起一个易于识别的名称
   - 如："代码审查助手"、"文档编写助手"

2. **助手描述**
   - 简要描述助手的功能和用途
   - 帮助用户理解何时使用此助手

3. **图标选择**
   - 从预设图标中选择一个代表助手的图标
   - 图标将显示在助手列表和对话界面中

4. **最大对话轮次**
   - 设置单次对话的最大轮次限制
   - 建议根据任务复杂度设置适当值
   - 设置为0表示无限制

5. **权限模式**
   - **默认模式**：标准权限设置
   - **只读模式**：只允许读取操作
   - **完全访问**：允许所有操作

6. **启用/禁用状态**
   - 控制助手是否在列表中可用

7. **系统提示词**
   - 定义助手的行为准则和专业能力
   - 支持两种模式：**预设**和**自定义**

#### 系统提示词配置

系统提示词决定了助手的行为和能力，AgentStudio 提供两种配置方式：

**预设模式**

![预设系统提示词](../.playwright-mcp/agent-create-prompt-preset.png)

- 选择"预设"选项使用系统默认的 Claude Code 提示词
- 适用于需要完整 Claude Code 功能的助手
- 自动继承 Claude Code 的所有能力和行为规范
- 推荐新用户使用此模式

**自定义模式**

![自定义系统提示词](../.playwright-mcp/agent-create-prompt-custom.png)

- 选择"自定义"选项编写个性化提示词
- 完全控制助手的行为和回答风格
- 可使用 Markdown 格式编写
- 建议包含：
  - 角色定义：助手的身份和职责
  - 能力描述：助手擅长的任务类型
  - 回答风格：输出格式和语气要求
  - 限制说明：明确助手不应做的事情

---

### 工具选择

在创建或编辑助手时，需要选择可用的工具：

![工具选择对话框](../.playwright-mcp/agent-tools-selection.png)

#### 可用工具类型

**基础工具**：
- `Read` - 读取文件内容
- `Write` - 写入文件内容
- `Edit` - 编辑现有文件
- `MultiEdit` - 批量编辑多个文件
- `Bash` - 执行 Shell 命令
- `Glob` - 文件模式匹配
- `Grep` - 文本搜索
- `LS` - 列出目录内容

**高级工具**：
- `WebSearch` - 网络搜索
- `WebFetch` - 获取网页内容
- `Agent` - 调用子Agent
- `TodoRead` - 读取待办事项
- `TodoWrite` - 创建待办事项
- `Task` - 任务管理

**MCP工具**：
- 来自已配置的MCP服务的扩展工具
- 如：playwright、supabase等

#### 操作步骤

1. **打开工具选择**
   - 在创建/编辑助手对话框中点击"选择工具"

2. **浏览可用工具**
   - 工具按类别分组显示
   - 每个工具显示名称和描述

3. **选择需要的工具**
   - 点击工具旁的复选框启用
   - 可使用搜索框快速查找

4. **保存选择**
   - 点击"确认"按钮保存工具配置

---

### 编辑助手

点击助手列表中的编辑按钮，打开编辑对话框：

![编辑助手对话框](../.playwright-mcp/agent-edit-dialog.png)

#### 可编辑内容

- 助手名称和描述
- 图标选择
- 最大对话轮次
- 权限模式
- 可用工具列表
- 系统提示词
- 启用/禁用状态

#### 操作步骤

1. **找到目标助手**
   - 在助手列表中定位需要编辑的助手

2. **点击编辑按钮**
   - 点击助手行末尾的编辑图标

3. **修改配置**
   - 在对话框中修改需要更改的字段

4. **保存更改**
   - 点击"保存"按钮应用更改

---

## MCP服务

MCP（Model Context Protocol）服务管理页面用于配置和管理外部工具服务器。

![MCP服务概览](../.playwright-mcp/mcp-list-overview.png)

### 页面功能

1. **搜索框**：搜索配置名称、命令或参数

2. **从Claude Code导入**：导入 Claude Code 已配置的 MCP 服务

3. **添加服务**：手动添加新的 MCP 服务

4. **服务列表**
   - **服务名称**：服务名称和类型（本地/远程）
   - **类型**：Stdio 或 HTTP
   - **可用工具**：该服务提供的工具数量和列表
   - **操作**：重新验证、复制命令、编辑、删除

### MCP 服务类型

| 类型 | 说明 | 适用场景 |
|------|------|---------|
| Stdio | 通过标准输入/输出通信 | 本地命令行工具 |
| HTTP | 通过 HTTP API 通信 | 远程服务或 Web API |

---

### 添加MCP服务

点击 **"添加服务"** 按钮打开添加对话框：

![添加MCP服务对话框](../.playwright-mcp/mcp-add-service-dialog.png)

#### 对话框字段说明

1. **服务名称**（必填）
   - 服务的唯一标识名称
   - 如："playwright"、"supabase"

2. **服务类型**
   - **Stdio**：本地命令行工具
   - **HTTP**：远程HTTP服务

3. **命令/URL**
   - Stdio类型：填写启动命令
   - HTTP类型：填写服务URL

4. **参数配置**
   - 命令行参数（适用于Stdio类型）
   - 如：`["--config", "path/to/config"]`

5. **环境变量**
   - 设置服务运行所需的环境变量
   - 格式：键值对

#### 操作步骤

1. **点击"添加服务"**
   - 打开服务配置对话框

2. **填写基本信息**
   - 输入服务名称
   - 选择服务类型

3. **配置启动参数**
   - 根据服务类型填写命令或URL
   - 添加必要的命令行参数

4. **设置环境变量**（如需要）
   - 添加服务运行所需的环境变量

5. **保存并验证**
   - 点击"保存"按钮
   - 系统将自动验证服务连接

---

### 从Claude Code导入

如果您已经在 Claude Code 中配置了 MCP 服务，可以一键自动导入：

![从Claude Code导入](../.playwright-mcp/mcp-import-claude-code.png)

#### 操作步骤

1. **点击"从Claude Code导入"按钮**
   - 系统将自动读取 Claude Code 的 MCP 配置文件
   - 自动查找系统中已配置的 MCP Server

2. **自动导入完成**
   - 系统自动识别并导入所有已配置的服务
   - 无需手动选择，直接完成导入
   - 导入完成后会显示导入成功的通知

3. **验证服务状态**
   - 导入后系统会自动验证服务连接
   - 检查服务列表确认导入结果

#### 注意事项

- 需要先在 Claude Code 中配置好 MCP 服务
- 系统会自动读取 `~/.claude/claude_desktop_config.json` 配置文件
- 某些服务可能需要调整路径配置
- 环境变量会一并导入

---

## 技能管理

技能管理页面用于创建和管理 Claude 助手技能，扩展 AI 功能。

![技能管理概览](../.playwright-mcp/skills-list-overview.png)

### 页面功能

1. **搜索框**：搜索技能名称或描述

2. **创建技能**：创建新的自定义技能

3. **技能列表**
   - **技能名称**：技能名称、来源（用户技能/插件）
   - **工具限制**：技能可使用的工具
   - **更新时间**：最后更新日期
   - **操作**：查看、浏览文件、编辑、删除

### 技能类型

| 类型标签 | 说明 |
|---------|------|
| 用户技能 | 用户自定义创建的技能 |
| 插件 | 从插件市场安装的技能 |
| 本地 | 本地存储的技能文件 |

---

### 创建技能

点击 **"创建技能"** 按钮打开创建对话框：

![创建技能对话框](../.playwright-mcp/skills-create-dialog.png)

#### 对话框字段说明

1. **技能名称**（必填）
   - 技能的唯一标识名称
   - 如："code-review"、"doc-generator"

2. **触发条件**
   - 定义何时自动激活此技能
   - 可使用关键词或条件表达式

3. **技能描述**
   - 简要描述技能的功能
   - 帮助AI理解何时使用

4. **技能指令**
   - 详细的技能执行指令
   - 使用 Markdown 格式编写
   - 可包含示例和最佳实践

5. **工具限制**（可选）
   - 限制技能可使用的工具
   - 不设置则使用助手默认工具

#### 操作步骤

1. **点击"创建技能"按钮**
   - 打开技能配置对话框

2. **填写基本信息**
   - 输入技能名称
   - 编写触发条件

3. **编写技能指令**
   - 在指令编辑区编写详细指令
   - 包含技能的具体行为定义

4. **配置工具限制**（可选）
   - 选择技能可使用的工具

5. **保存技能**
   - 点击"创建"按钮保存

---

### 查看技能详情

点击技能列表中的"查看"按钮，查看技能完整内容：

![技能详情](../.playwright-mcp/skills-view-detail.png)

#### 详情内容

- **技能名称和描述**
- **触发条件**
- **完整技能指令**
- **工具限制配置**
- **创建/更新时间**

#### 操作选项

- **编辑**：修改技能配置
- **浏览文件**：查看技能相关文件
- **删除**：删除此技能

---

### 浏览技能文件

点击技能列表中的文件夹图标，可以查看技能的完整文件结构：

![技能文件浏览器](../.playwright-mcp/skill-file-browser.png)

#### 功能说明

技能文件浏览器允许您查看技能所在目录的完整内容：

1. **文件目录树**
   - 显示技能文件夹的完整结构
   - 支持展开/折叠子目录
   - 显示文件类型图标

2. **文件列表**
   - 显示当前目录下的所有文件
   - 显示文件大小和修改时间

3. **文件内容预览**

![技能文件内容预览](../.playwright-mcp/skill-file-preview.png)

点击具体文件可以预览其内容：
   - 支持代码高亮显示
   - 支持 Markdown 渲染
   - 可查看技能指令、配置等详细内容

#### 操作步骤

1. **打开文件浏览器**
   - 在技能列表中点击技能行的 📁（文件夹）图标

2. **浏览目录结构**
   - 在左侧目录树中展开查看文件结构
   - 点击文件夹进入子目录

3. **查看文件内容**
   - 点击文件名查看文件内容
   - 内容会在右侧预览区域显示

4. **关闭浏览器**
   - 点击关闭按钮或对话框外部关闭

---

## 插件管理

插件管理页面用于管理插件市场和已安装插件。

![插件管理概览](../.playwright-mcp/plugins-overview.png)

### 页面功能

1. **标签页切换**
   - **插件市场**：管理插件仓库来源
   - **浏览插件**：浏览和安装插件

2. **搜索框**：搜索市场名称

3. **添加市场**：添加新的插件市场源

4. **市场列表**
   - 市场名称和来源类型
   - Git 仓库地址
   - 插件数量
   - 同步和删除操作

---

### 添加市场

点击 **"添加市场"** 按钮添加新的插件源：

![添加市场对话框](../.playwright-mcp/plugins-add-market.png)

#### 对话框字段说明

1. **市场名称**（必填）
   - 插件市场的显示名称
   - 如："官方插件库"、"社区插件"

2. **来源类型**（必填）

![来源类型选择](../.playwright-mcp/plugin-source-types.png)

   系统支持三种插件市场来源类型：

   | 类型 | 说明 | 适用场景 |
   |------|------|---------|
   | **GitHub** | 直接从 GitHub 仓库获取 | 官方插件库、开源插件 |
   | **Git Repository** | 从任意 Git 仓库获取 | GitLab、自建Git服务器 |
   | **Local Directory** | 从本地目录加载 | 本地开发、离线环境 |

3. **仓库地址/目录路径**（必填）
   - GitHub：输入仓库 URL，如 `https://github.com/user/plugins`
   - Git Repository：输入完整的 Git 仓库 URL
   - Local Directory：输入本地目录的绝对路径

#### 操作步骤

1. **点击"添加市场"按钮**
   - 打开添加市场对话框

2. **选择来源类型**
   - 从下拉菜单选择合适的来源类型
   - 根据您的插件来源选择对应类型

3. **填写市场信息**
   - 输入市场名称
   - 根据来源类型输入对应的地址或路径

4. **添加市场**
   - 点击"添加"按钮

5. **同步插件列表**
   - 添加后点击"同步"按钮获取插件

---

### 浏览和安装插件

切换到"浏览插件"标签页，查看和安装可用插件：

![浏览插件](../.playwright-mcp/plugins-browse.png)

#### 功能说明

- **插件列表**：显示所有可用插件
- **插件详情**：名称、描述、版本信息
- **安装状态**：显示是否已安装
- **安装/更新按钮**：一键安装或更新

#### 操作步骤

1. **切换到"浏览插件"标签**
   - 查看所有可用插件

2. **搜索插件**
   - 使用搜索框查找特定插件

3. **查看插件详情**
   - 点击插件查看详细信息

4. **安装插件**
   - 点击"安装"按钮安装插件
   - 安装后插件将作为技能可用

---

## 自定义命令

自定义命令页面用于管理 Slash Commands（斜杠命令）。

![自定义命令概览](../.playwright-mcp/commands-overview.png)

### 页面功能

1. **搜索框**：搜索命令名称

2. **新建命令**：创建新的自定义命令

3. **命令列表**
   - **命令名称**：命令名称、范围（本地/全局）、参数
   - **模型**：使用的模型配置
   - **工具**：命令可使用的工具
   - **创建时间**：命令创建日期
   - **操作**：编辑、删除

---

### 新建命令

点击 **"新建命令"** 按钮创建自定义命令：

![新建命令对话框](../.playwright-mcp/commands-create-dialog.png)

#### 对话框字段说明

1. **命令名称**（必填）
   - 以 `/` 开头的命令名称
   - 如：`/commit`、`/review`

2. **命令描述**
   - 命令功能的简要说明
   - 显示在命令选择菜单中

3. **参数定义**（可选）
   - 定义命令接收的参数
   - 支持必填和可选参数

4. **命令提示词**
   - 命令执行时的提示词模板
   - 可使用 `$ARGUMENTS` 引用参数

5. **可用工具**
   - 选择命令可使用的工具
   - 限制命令的能力范围

6. **命令范围**
   - **全局**：所有项目可用
   - **本地**：仅当前项目可用

#### 操作步骤

1. **点击"新建命令"按钮**
   - 打开命令配置对话框

2. **填写基本信息**
   - 输入命令名称（以 / 开头）
   - 编写命令描述

3. **定义参数**（如需要）
   - 添加命令参数
   - 设置参数类型和是否必填

4. **编写提示词**
   - 在提示词编辑区编写命令指令
   - 使用变量引用参数

5. **选择工具**
   - 选择命令可以使用的工具

6. **保存命令**
   - 点击"创建"按钮保存

#### 使用命令

在聊天界面中输入 `/` 触发命令菜单，选择要执行的命令。

---

## 聊天界面

聊天界面是与 AI 助手进行对话的主要工作区域。

![聊天界面](../.playwright-mcp/chat-interface.png)

### 页面布局

1. **顶部信息栏**
   - 当前助手名称和服务信息
   - 项目名称
   - 新建会话按钮
   - 会话历史按钮
   - 刷新消息按钮

2. **聊天区域**（左侧）
   - 助手欢迎消息
   - 对话历史
   - 消息输入框

3. **文件浏览器**（中间）
   - 项目目录树结构
   - 文件夹展开/折叠
   - 文件类型图标
   - 文件大小显示

4. **文件预览区**（右侧）
   - 选中文件的内容预览
   - 支持代码高亮

5. **布局控制**
   - 隐藏/显示聊天界面
   - 隐藏/显示可视化界面

---

### 消息发送

#### 输入框功能

- **消息输入**：Shift+Enter 换行，Enter 发送
- **触发命令**：输入 `/` 触发命令菜单
- **工具选择**：点击工具图标选择可用工具
- **图片上传**：点击图片图标上传图片
- **设置按钮**：点击底部设置区域（如 "GLM-4.7 | 绕过权限"）打开详细设置

#### 操作步骤

1. **输入消息**
   - 在输入框中输入您的问题或指令

2. **使用 Slash 命令**
   - 输入 `/` 查看可用命令
   - 选择命令并填写参数

3. **发送消息**
   - 按 Enter 或点击发送按钮

4. **等待响应**
   - AI 将实时流式返回响应
   - 可随时点击停止按钮中断

---

### 工具选择

点击输入框旁的工具图标，配置当前对话可用的工具：

![工具选择](../.playwright-mcp/chat-tools-selection.png)

#### 功能说明

- **工具列表**：显示所有可用工具
- **工具分类**：按类型分组显示
- **启用/禁用**：控制工具在当前对话中的可用性
- **临时设置**：设置仅对当前对话有效

#### 操作步骤

1. **点击工具图标**
   - 打开工具选择面板

2. **选择工具**
   - 勾选需要启用的工具
   - 取消勾选不需要的工具

3. **应用设置**
   - 点击确认应用更改

---

### 会话历史

点击"会话历史"按钮查看和切换历史会话：

![会话历史](../.playwright-mcp/chat-session-history.png)

#### 功能说明

- **会话列表**：显示所有历史会话
- **会话信息**：时间、消息数、助手类型
- **切换会话**：点击切换到历史会话
- **删除会话**：删除不需要的会话

#### 操作步骤

1. **点击"会话历史"按钮**
   - 打开会话历史面板

2. **浏览历史会话**
   - 查看会话列表
   - 每个会话显示时间和摘要

3. **切换会话**
   - 点击某个会话加载其内容

4. **管理会话**
   - 点击删除按钮移除会话

---

### 聊天设置

点击输入框下方的设置区域（显示当前模型和权限状态，如 "GLM-4.7 | 绕过权限"），打开聊天设置面板：

![聊天设置面板](../.playwright-mcp/chat-settings-panel.png)

#### 设置选项

1. **供应商选择**

![供应商选择](../.playwright-mcp/chat-settings-suppliers.png)

   - 从下拉菜单选择已配置的供应商
   - 每个供应商对应不同的 API 配置
   - 切换供应商会自动更新可用模型列表

2. **模型选择**
   - 根据选择的供应商显示可用模型
   - 不同模型有不同的能力和速度特点
   - 选择后立即生效

3. **权限设置**
   - **默认权限**：标准权限模式
   - **绕过权限**：跳过某些权限检查，适合高级用户
   - **只读模式**：仅允许读取操作

4. **临时环境变量**
   - 为当前会话添加临时环境变量
   - 不影响系统配置
   - 会话结束后自动清除
   - 格式：键值对形式

#### 操作步骤

1. **打开设置面板**
   - 点击输入框下方的设置按钮区域

2. **选择供应商**
   - 点击供应商下拉菜单
   - 选择目标供应商

3. **选择模型**
   - 在模型下拉菜单中选择要使用的模型

4. **配置权限**
   - 根据需要选择权限模式

5. **添加环境变量**（可选）
   - 点击"添加环境变量"
   - 输入变量名和值
   - 可添加多个变量

6. **应用设置**
   - 设置完成后关闭面板
   - 新设置将应用到后续的对话中

---

## 系统设置

### 外观设置

外观设置页面用于配置界面主题和语言：

![外观设置](../.playwright-mcp/settings-general.png)

#### 主题设置

- **跟随系统**：自动匹配操作系统主题
- **浅色模式**：明亮的界面主题
- **深色模式**：暗色的界面主题

#### 语言设置

- **🇨🇳 中文简体**
- **🇺🇸 English**

#### 操作步骤

1. **进入外观设置**
   - 在左侧导航栏点击"系统管理" → "外观设置"

2. **选择主题**
   - 点击对应的主题选项卡

3. **选择语言**
   - 点击对应的语言选项

4. **设置即时生效**
   - 无需保存，选择后立即应用

---

### 供应商管理

供应商管理页面用于配置多个 AI 模型供应商：

![供应商管理概览](../.playwright-mcp/suppliers-overview.png)

#### 页面功能

1. **供应商快捷按钮**：快速添加常用供应商
   - GLM (智谱AI)
   - DeepSeek
   - Kimi K2 (月之暗面)
   - MiniMax

2. **供应商列表**
   - 供应商名称和别名
   - 路径配置
   - 环境变量
   - 支持的模型列表

3. **供应商操作**
   - 复制命令
   - 设为默认
   - 编辑配置
   - 删除

---

#### 添加供应商

点击 **"添加供应商"** 按钮或快捷按钮添加新供应商：

![添加供应商对话框](../.playwright-mcp/supplier-add-dialog.png)

##### 对话框字段说明

1. **供应商快速配置模板**
   - 选择预设模板快速配置
   - 自动填充常用供应商的配置

2. **供应商名称**（必填）
   - 供应商的显示名称
   - 如："Claude Code v1.2.3"

3. **别名**（必填）
   - 供应商的唯一标识
   - 如："claude-1.2.3"

4. **描述**
   - 供应商的功能描述

5. **可执行文件路径**
   - Claude Code 可执行文件的路径
   - 不填则使用系统默认路径

6. **模型配置**
   - 添加该供应商支持的模型
   - 包含：模型ID、模型名称、是否视觉模型

7. **环境变量**
   - 配置API地址和认证信息
   - 常用变量：
     - `ANTHROPIC_BASE_URL`：API 基础地址
     - `ANTHROPIC_AUTH_TOKEN`：API 认证令牌

---

#### 编辑供应商

点击供应商列表中的编辑按钮，修改供应商配置：

![编辑供应商对话框](../.playwright-mcp/supplier-edit-dialog.png)

##### 可编辑内容

- 供应商名称和别名
- 描述信息
- 可执行文件路径
- 模型配置（添加、删除、修改模型）
- 环境变量配置

##### 操作步骤

1. **找到目标供应商**
   - 在供应商列表中定位

2. **点击编辑按钮**
   - 打开编辑对话框

3. **修改配置**
   - 更新需要修改的字段

4. **保存更改**
   - 点击"更新"按钮应用更改

---

### 全局记忆

全局记忆页面用于管理跨项目共享的记忆内容：

![全局记忆](../.playwright-mcp/settings-memory.png)

#### 功能说明

- **记忆内容来源**：`~/.claude/CLAUDE.md` 文件
- **自动加载**：每次对话时自动加载
- **编辑功能**：直接在界面中编辑
- **刷新功能**：从文件重新加载

#### 建议内容

- 个人信息和偏好
- 常用技术栈
- 编码规范
- 常用配置

#### 操作步骤

1. **进入全局记忆设置**
   - 在左侧导航栏点击"系统管理" → "全局记忆"

2. **查看当前记忆**
   - 页面显示当前的全局记忆内容

3. **编辑记忆**
   - 点击"编辑"按钮进入编辑模式
   - 修改内容后保存

4. **刷新内容**
   - 点击"刷新"按钮重新从文件加载

---

## 快捷键参考

| 快捷键 | 功能 |
|-------|------|
| Enter | 发送消息 |
| Shift + Enter | 消息换行 |
| / | 触发命令菜单 |
| F8 | 打开通知面板 |

---

## 常见问题

### Q: 如何切换不同的 AI 模型？
A: 在聊天界面底部，点击模型名称（如 "GLM-4.7"）可以切换到其他已配置的模型。

### Q: 如何添加新的项目目录？
A: 进入"项目管理"页面，点击"创建新项目"或"导入项目"按钮。

### Q: MCP 服务连接失败怎么办？
A: 检查服务配置是否正确，点击"重新验证"按钮测试连接，查看控制台日志获取错误信息。

### Q: 如何备份我的配置？
A: 所有配置存储在 `~/.agent-studio` 目录下，备份此目录即可。

---

## 技术支持

- **GitHub Issues**：[提交问题](https://github.com/okguitar/agentstudio/issues)
- **GitHub Discussions**：[社区讨论](https://github.com/okguitar/agentstudio/discussions)
- **文档**：[Wiki 文档](https://github.com/okguitar/agentstudio/wiki)

---

*© 2024 AgentStudio. MIT License.*
